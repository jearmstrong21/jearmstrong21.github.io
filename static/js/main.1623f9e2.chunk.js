(this["webpackJsonpproperty-visualization"]=this["webpackJsonpproperty-visualization"]||[]).push([[0],{14:function(n,i,o){n.exports=o(50)},19:function(n,i,o){},20:function(n,i,o){},50:function(n,i,o){"use strict";o.r(i);var t=o(0),e=o.n(t),r=o(7),a=o.n(r),s=(o(19),o(8)),l=o(2),c=o(1),v=o(13),m=o(12),p=(o(20),o(9)),u=o.n(p),f=o(3),d=o.n(f),g=o(10),h=o.n(g),w=o(4),P=o(11),b=o.n(P),y=(o(49),function(n){Object(v.a)(o,n);var i=Object(m.a)(o);function o(){var n;Object(l.a)(this,o);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=i.call.apply(i,[this].concat(r))).canvasRef=e.a.createRef(),n}return Object(c.a)(o,[{key:"componentDidMount",value:function(){var n=this,i=u()(this.canvasRef.current),o=[],t=new w.a([]),e=new h.a,r=function(){var n=new Array(t.triangles.length/3).fill(0).map((function(n,i){return[t.triangles[3*i],t.triangles[3*i+1],t.triangles[3*i+2]]})).flatMap((function(n){var i=[o[n[0]],o[n[1]],o[n[2]]];return i})),i=new Array(n.length/3).fill(0).map((function(i,o){var t=function(n,i,o){var t=n[0]-i[0],e=n[1]-i[1],r=n[2]-i[2],a=n[0]-o[0],s=n[1]-o[1],l=n[2]-o[2],c=e*l-r*s,v=r*a-t*l,m=t*s-e*a,p=Math.sqrt(c*c+v*v+m*m);return c/=p,m/=p,(v/=p)<0&&(c*=-1,v*=-1,m*=-1),[c,v,m]}(n[3*o],n[3*o+1],n[3*o+2]);return[t,t,t]})),e=new Array(n.length/3).fill(0).map((function(i,o){return[n[3*o],n[3*o],n[3*o]]})),r=new Array(n.length/3).fill(0).map((function(i,o){return[n[3*o+1],n[3*o+1],n[3*o+1]]})),a=new Array(n.length/3).fill(0).map((function(i,o){return[n[3*o+2],n[3*o+2],n[3*o+2]]})),s=n.map((function(n,i){return i}));return{position:n,normal:i,position0:e,position1:r,position2:a,elements:s}},a={position:i.buffer([]),normal:i.buffer([]),position0:i.buffer([]),position1:i.buffer([]),position2:i.buffer([]),elements:i.elements([])},l=function(n,i){var s=function(n,i){return 10*e.noise2D(.025*n,.025*i)}(n,i);o.push([n,s,i]),t.coords.push(n),t.coords.push(i),t=new w.a(t.coords);var l=r();a.position({data:l.position}),a.normal({data:l.normal}),a.position0({data:l.position0}),a.position1({data:l.position1}),a.position2({data:l.position2}),a.elements({data:l.elements})};l(-50,-50),l(-50,50),l(50,-50),l(50,50);var c=i({frag:"\n            precision mediump float;\n            \n            varying vec3 inPosition;\n            varying vec3 inNormal;\n            varying vec3 inPosition0;\n            varying vec3 inPosition1;\n            varying vec3 inPosition2;\n            \n            uniform bool doWireframe;\n            uniform bool doLighting;\n            uniform bool doNormals;\n            \n            float area(vec3 a, vec3 b, vec3 c){\n                return 0.5 * length(cross(b - a, c - a));\n            }\n            \n            // https://math.stackexchange.com/a/1905794/553817\n            // A = point to test\n            // B, C = two points on line\n            float lineDist(vec3 A, vec3 B, vec3 C) {\n                vec3 d = normalize(C - B);\n                vec3 v = A - B;\n                float t = dot(v, d);\n                vec3 P = B + t * d;\n                return length(P - A);\n            }\n            \n            void main(){\n                vec3 normal = normalize(inNormal);\n                gl_FragColor.rgb = vec3(1);\n                if(doNormals) {\n                    gl_FragColor.rgb = 0.5 + 0.5 * normal;\n                }\n                if(doLighting) {\n                    vec3 L1 = vec3(30, 20, 0);\n                    vec3 L2 = vec3(-5, 60, 25);\n                    float I1 = dot(normal, normalize(L1 - inPosition));\n                    float I2 = dot(normal, normalize(L2 - inPosition));\n                    gl_FragColor.rgb *= 0.5 * I1 + 0.5 * I2;\n                }\n                \n                float totalArea = area(inPosition0, inPosition1, inPosition2);\n                vec3 coords = vec3(area(inPosition0, inPosition1, inPosition), area(inPosition1, inPosition2, inPosition), area(inPosition2, inPosition0, inPosition)) / totalArea;\n                if(doWireframe) {\n                    vec3 lineDistances = vec3(lineDist(inPosition, inPosition0, inPosition1), lineDist(inPosition, inPosition1, inPosition2), lineDist(inPosition, inPosition2, inPosition0));\n                    float minDistance = min(lineDistances.x, min(lineDistances.y, lineDistances.z));\n                    gl_FragColor.rgb = mix(vec3(0), gl_FragColor.rgb, vec3(smoothstep(0., 1., 20.0*minDistance)));\n                }\n                gl_FragColor.w = 1.0;\n            }\n            ",vert:"\n            precision mediump float;\n            attribute vec3 position;\n            attribute vec3 normal;\n            attribute vec3 position0;\n            attribute vec3 position1;\n            attribute vec3 position2;\n            varying vec3 inPosition;\n            varying vec3 inNormal;\n            varying vec3 inPosition0;\n            varying vec3 inPosition1;\n            varying vec3 inPosition2;\n            uniform mat4 projection, view;\n            void main(){\n                gl_Position=projection*view*vec4(position,1);\n                inPosition=position;\n                inNormal=normal;\n                inPosition0=position0;\n                inPosition1=position1;\n                inPosition2=position2;\n            }\n            ",attributes:{position:a.position,normal:a.normal,position0:a.position0,position1:a.position1,position2:a.position2},elements:a.elements,uniforms:{projection:function(n){var i=n.viewportWidth,o=n.viewportHeight;return d.a.perspective([],Math.PI/4,i/o,.01,1e3)},view:function(n){var i=n.time;return d.a.lookAt([],[40*Math.cos(.1*i),30,40*Math.sin(.1*i)],[0,0,0],[0,1,0])},doWireframe:i.prop("doWireframe"),doLighting:i.prop("doLighting"),doNormals:i.prop("doNormals")},primitive:"triangles"}),v=new b.a;v.showPanel(0),document.body.appendChild(v.dom),i.frame((function(o){if(Object(s.a)(o),v.begin(),n.canvasRef.current.width=window.devicePixelRatio*(n.canvasRef.current.style.width=window.innerWidth),n.canvasRef.current.height=window.devicePixelRatio*(n.canvasRef.current.style.height=window.innerHeight),i.clear({color:[0,0,0,1],depth:1}),!window.EXIT_NOW)for(var t=0;t<1;t++)l(100*Math.random()-50,100*Math.random()-50);c({doWireframe:!!window.doWireframe,doLighting:!!window.doLighting,doNormals:!!window.doNormals}),v.end()})),window.doWireframe=!0,window.doLighting=!0,window.doNormals=!0}},{key:"render",value:function(){return e.a.createElement("div",null,e.a.createElement("canvas",{ref:this.canvasRef}))}}]),o}(e.a.Component));a.a.render(e.a.createElement(e.a.StrictMode,null,e.a.createElement(y,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.1623f9e2.chunk.js.map